<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1534586_3r1jnv3ofok.css">
  <title>Message</title>
</head>
<style>
  .container {
    margin: 30px auto;
    padding: 10px;
    max-width: 800px;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(200, 200, 200 , 0.8);
  }

  .btn-group .button {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 810;
    outline: none;
    cursor: pointer;
  }

  .btn-group .button:hover {
    border: 1px solid white;
    color: purple;
    background: gold
  }

  .message {
    position: fixed;
    display: flex;
    align-items: center;
    top: 10px;
    left: 50%;
    transform: translate(-50%, -50px);
    padding: 8px;
    border-radius: 8px;

    /*è¾¾åˆ°æ˜¾ç¤ºçš„æ•ˆæœ*/
    opacity: 0;
    transition: all .2s;
  }

  .message .iconfont {
    margin-right: 8px;
  }

  .message.show {
    transform: translate(-50%, 10px);
    opacity: 1;
  }

  .message.success{
    background-color: greenyellow ;
  }
  .message.warning{
    background-color: yellow;
}
  .message.info{
    background-color: skyblue;
}
  .message.error{
    background-color: red;
}
</style>
<body>
<div class="container">
  <h2>Messageæ¶ˆæ¯æç¤º</h2>
  <div class="btn-group">
    <button class="button" id="btn-success">æˆåŠŸ</button>
    <button class="button" id="btn-warning">è­¦å‘Š</button>
    <button class="button" id="btn-info">æ¶ˆæ¯</button>
    <button class="button" id="btn-error">é”™è¯¯</button>
  </div>
</div>

<script>
  class Message {
    /*è€çš„å†™æ³•ï¼š
    constructor(option) {
      this.type = option.type || "success";
      this.text = option.text || "";
    }
    */
    //ES6çš„å†™æ³•ï¼Œè®¾ç½®é»˜è®¤å€¼
    constructor({type = 'success', text = ''}) {
      this.type = type;
      this.text = text;
      
      this.render();
      this.bind();
    }
     
    render() {
      //åˆ›å»ºmessageæç¤ºæ¡†ï¼Œåˆ›å»ºä¸€ä¸ªdiv
      let $div = document.createElement('div');
      //å¹³ç™½æ— æ•…çš„this.$messageè¿™ä¸ªå˜é‡å“ªé‡Œæ¥çš„ï¼Ÿ
      this.$message = $div;
      $div.classList.add('message');
      $div.classList.add(this.type);
      //åˆ›å»ºspanæ·»åŠ è‡ªå®šä¹‰å›¾æ ‡
      let $icon = document.createElement('span');
      $icon.classList.add('iconfont');
      $icon.classList.add('icon-' + this.type);
      $div.appendChild($icon);
      //åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹
      let $text = document.createTextNode(this.text);
      $div.appendChild($text);
      document.body.appendChild(this.$message);
    }

    bind() {
       //ç›´æ¥å†™show()è¾¾ä¸åˆ°æ•ˆæœï¼Ÿå› ä¸ºï¼šJSä¼šè‡ªå·±ä¼˜åŒ–ï¼Œåœ¨åˆ›å»ºDOMçš„æ—¶å€™ç«‹åˆ»å°±æ‰§å½¢äº†show,ç›´æ¥æ·»åŠ äº†æ ·å¼
       //å¦‚æœæœ‰show(),å°±ç›´æ¥å®ç°äº†ï¼Œä¸ä¼šä¾æ¬¡åŒºæ‰§è¡Œã€‚
       //å»¶è¿Ÿshow()çš„æ‰§è¡Œ
       setTimeout(() => this.show(),0);
       setTimeout(() => this.destory(), 3000);
    }

     //å°½é‡ä¸è¦å†JSé‡Œé¢æ”¹å˜å®šä¹‰å¥½çš„cssæ ·å¼ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æ ·å¼
    show() {
      this.$message.classList.add('show');
    }
     
    destory() {
       this.$message.classList.remove('show');
       setTimeout(() => this.$message.parentNode.removeChild(this.$message) , 3000);
    }
  }

document.querySelector('#btn-success').onclick = function(){
  new Message({type:'success',text: 'æˆåŠŸ'});
}
document.querySelector('#btn-warning').onclick = function(){
  new Message({type:'warning',text: 'è­¦å‘Š'});
}
document.querySelector('#btn-info').onclick = function(){
  new Message({type:'info',text: 'æ¶ˆæ¯'});
}
document.querySelector('#btn-error').onclick = function(){
  new Message({type:'error', text: 'é”™è¯¯'});
}

</script>

</body>
<!--

ğŸ’¡ -- ä¿®æ”¹æ•ˆæœ ä½¿ç”¨JSå–æ“ä½œå®šä¹‰å¥½çš„class
ğŸ’¡ -- ç®­å¤´å‡½æ•°çš„thiså’Œfunctionä¸­çš„thisä¸åŒåœ¨å“ªé‡Œï¼Ÿ
ğŸ’¡ -- Messageä¸éœ€è¦å†™æ¶ˆæ¯æç¤ºçš„é¡µé¢ç»“æ„ï¼Œç›´æ¥é€šè¿‡Jsæ¥æ§åˆ¶æç¤ºæ¡†çš„ç”Ÿæˆå’Œæ¶ˆå¤±
ğŸ’¡ -- æ„é€ æ—¶ä»¥å¯¹è±¡ä½œä¸ºä¼ é€’å‚æ•°ï¼Œæ–¹ä¾¿è¯†åˆ«ç±»å‹å’Œå†…å®¹ï¼š{type:'success',text:'æˆåŠŸ'}
ğŸ’¡ -- å°½é‡ä¸è¦åœ¨JSé‡Œæ“ä½œCSSæ ·å¼ï¼Œé€šè¿‡JSæ¥ç»™å¯¹è±¡æ·»åŠ æ ·å¼ä»è€Œè¾¾åˆ°æ”¹å˜æ ·å¼çš„æ•ˆæœï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å½“éœ€è¦ä¿®æ”¹æ ·å¼æ—¶ï¼Œåªè¦ä¿®æ”¹csså³å¯ï¼Œä¸ç”¨éƒ½ä¿®æ”¹äº†ã€‚
ğŸ’¡
ğŸ’¡
ğŸ’¡
ğŸ’¡


â“
â“
â“
â“
â“
â“
â“
â“

-->

</html>